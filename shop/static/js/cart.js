function receiveMessage(e){if("https://cdn.foxpost.hu"==e.origin){var a=JSON.parse(e.data);$("#id_fox_post").val(a.name+";"+a.address),$("#id_delivery_type").val("FoxPost"),void 0!==a.name&&($("body").prepend('<div id="modal-wrapper"><div id="modal-body"><p>A következő automatát választottad: '+a.name+'</p><div class="modal-button-wrapper"><button class="modal-close" onClick="close_modal()">Bezár</button></div></div></div>'),$("body").prepend('<div id="foxpost-modal-backdrop" />'))}}function close_modal(){$("#modal-wrapper").remove(),$("#foxpost-modal-backdrop").remove()}$("document").ready(function(){if($("#collapseTwo").hasClass("show")){var e=$("#fox_price").text(),a=$("#total_price").attr("data-price"),t=parseInt(e)+parseInt(a);$("#total_price").text(t+" Ft")}else if($("#collapseThree").hasClass("show")){e=$("#delivery_price").text(),a=$("#total_price").attr("data-price"),t=parseInt(e)+parseInt(a);$("#total_price").text(t+" Ft")}else if($("#collapseFour").hasClass("show")){inlineFullHU();e=$("#csomagkuldo_price").text(),a=$("#total_price").attr("data-price"),t=parseInt(e)+parseInt(a);$("#total_price").text(t+" Ft")}}),$("#foxt-post button").on("click",function(e){$("#collapseOne input").removeAttr("required").val(""),$("#id_delivery_name").val(""),$("#id_address").val(""),$("#id_postal_code").val(""),$("#id_city").val(""),$("#id_note").val(""),$("#id_firstname").val(""),$("#id_lastname").val(""),$("#delivery_full_name").val(""),$("#d_address").val(""),$("#d_zip").val(""),$("#d_city").val(""),$("#d_note").val(""),$("#first_name").val(""),$("#last_name").val(""),$("#delivery_safe").val(""),$("#id_csomagkuldo").val("");var a=$("#fox_price").text(),t=$("#total_price").attr("data-price"),l=parseInt(a)+parseInt(t);$("#total_price").text(l+" Ft")}),$("#csomagkuldo button").on("click",function(e){$("#collapseOne input").removeAttr("required").val(""),$("#id_fox_post").val(""),$("#id_delivery_name").val(""),$("#id_address").val(""),$("#id_postal_code").val(""),$("#id_city").val(""),$("#id_note").val(""),$("#id_firstname").val(""),$("#id_lastname").val(""),$("#delivery_full_name").val(""),$("#d_address").val(""),$("#d_zip").val(""),$("#d_city").val(""),$("#d_note").val(""),$("#first_name").val(""),$("#last_name").val(""),$("#delivery_safe").val("");var a=$("#csomagkuldo_price").text(),t=$("#total_price").attr("data-price"),l=parseInt(a)+parseInt(t);$("#total_price").text(l+" Ft")}),$("#personal button").on("click",function(e){$("#collapseOne input").attr("required","true").val(""),$("#id_fox_post").val(""),$("#id_delivery_name").val(""),$("#id_address").val(""),$("#id_postal_code").val(""),$("#id_city").val(""),$("#id_note").val(""),$("#delivery_full_name").val(""),$("#d_address").val(""),$("#d_zip").val(""),$("#d_city").val(""),$("#d_note").val(""),$("#delivery_safe").val(""),$("#id_csomagkuldo").val("");var a=$("#total_price").attr("data-price");$("#total_price").text(a+" Ft")}),$("#delivery button").on("click",function(e){$("#collapseOne input").removeAttr("required").val(""),$("#collapseThree input:not(#d_note)").attr("required","true").val(""),$("#id_fox_post").val(""),$("#id_firstname").val(""),$("#id_lastname").val(""),$("#first_name").val(""),$("#last_name").val(""),$("#delivery_safe").val(""),$("#id_csomagkuldo").val("");var a=$("#delivery_price").text(),t=$("#total_price").attr("data-price"),l=parseInt(a)+parseInt(t);$("#total_price").text(l+" Ft")}),$("#delivery-form").one("submit",function(e){var a=$("#full_name").val();if($("#id_fullname").val(a),a=$("#email_address").val(),$("#id_email").val(a),a=$("#phone_number").val(),$("#id_phone").val(a),void 0!==(a=$("#first_name").val())&&""!=a&&($("#id_firstname").val(a),$("#id_delivery_type").val("Személyes átvétel")),void 0!==(a=$("#last_name").val())&&""!=a&&$("#id_lastname").val(a),void 0!==(a=$("#delivery_full_name").val())&&""!=a&&($("#id_delivery_name").val(a),$("#id_delivery_type").val("Házhozszállítás")),void 0!==(a=$("#d_address").val())&&$("#id_address").val(a),void 0!==(a=$("#d_zip").val())&&$("#id_postal_code").val(a),void 0!==(a=$("#d_city").val())&&$("#id_city").val(a),void 0!==(a=$("#d_note").val())&&$("#id_note").val(a),void 0===(a=$("#id_delivery_type").val())||""==a){var t=$("#delivery_safe").val();"cs"==t.split(";")[0]?($("#id_delivery_type").val("Csomagkuldo"),$("#id_csomagkuldo").val(t.split(";").slice(1))):"fp"==t.split(";")[0]&&($("#id_delivery_type").val("FoxPost"),$("#id_fox_post").val(t.split(";").slice(1)))}window.removeEventListener("message",receiveMessage,!1),$(this).submit()}),window.addEventListener("message",receiveMessage,!1),$("document").ready(function(){$("#errorModal .modal-body .messages").length>0&&$("#error_button").click()});var packetaApiKey=$("meta[name=cs_a]").attr("content");function clear(){for(var e=document.querySelectorAll(".method-detail"),a=0;a<e.length;a++)e[a].innerText="",e[a].style.height="0";Packeta.Widget.close()}function inlineFullHU(){var e=document.getElementById("csomagkuldo-body");clear(),e.style.height="600px",Packeta.Widget.pick(packetaApiKey,showSelectedPickupPoint.bind(e),{country:"hu",language:"hu"},e)}function showSelectedPickupPoint(e){var a=document.getElementById("csomagkuldo-body");$("#collapseFour").removeClass("show"),a.style.height="0px";var t=e?e.name:"None";$("#id_csomagkuldo").val(t),$("#id_delivery_type").val("Csomagkuldo"),"None"!==t&&($("body").prepend('<div id="modal-wrapper"><div id="modal-body"><p>A következő automatát választottad: '+t+'</p><div class="modal-button-wrapper"><button class="modal-close" onClick="close_modal()">Bezár</button></div></div></div>'),$("body").prepend('<div id="foxpost-modal-backdrop" />'))}